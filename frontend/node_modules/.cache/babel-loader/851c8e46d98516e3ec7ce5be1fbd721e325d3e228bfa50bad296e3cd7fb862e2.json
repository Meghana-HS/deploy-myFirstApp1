{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\megha\\\\Downloads\\\\authuntification\\\\frontend\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { handleError, handleSuccess } from '../utils';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Home() {\n  _s();\n  const [loggedInUser, setLoggedInUser] = useState('');\n  const [products, setProducts] = useState([]);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [cart, setCart] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const user = localStorage.getItem('loggedInUser');\n    if (!user) {\n      navigate('/login');\n    } else {\n      setLoggedInUser(user);\n    }\n  }, [navigate]);\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('loggedInUser');\n    handleSuccess('User Logged out');\n    setTimeout(() => navigate('/login'), 1000);\n  };\n  const fetchProducts = async () => {\n    try {\n      const response = await fetch('http://localhost:8080/products', {\n        headers: {\n          'Authorization': localStorage.getItem('token')\n        }\n      });\n      const result = await response.json();\n      setProducts(result);\n      setFilteredProducts(result);\n    } catch (err) {\n      handleError(err);\n    }\n  };\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  // Search products\n  const handleSearch = e => {\n    const term = e.target.value;\n    setSearchTerm(term);\n    if (term === '') {\n      setFilteredProducts(products);\n    } else {\n      const filtered = products.filter(p => p.name.toLowerCase().includes(term.toLowerCase()));\n      setFilteredProducts(filtered);\n    }\n  };\n\n  // Add to cart\n  const addToCart = product => {\n    setCart([...cart, product]);\n    handleSuccess(`${product.name} added to cart`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      fontFamily: 'Arial'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Welcome, \", loggedInUser]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        style: {\n          padding: '5px 10px',\n          cursor: 'pointer'\n        },\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search products...\",\n        value: searchTerm,\n        onChange: handleSearch,\n        style: {\n          padding: '5px',\n          width: '300px',\n          marginBottom: '20px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',\n        gap: '15px'\n      },\n      children: filteredProducts.length > 0 ? filteredProducts.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: '1px solid #ccc',\n          padding: '10px',\n          borderRadius: '5px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Price: $\", item.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => addToCart(item),\n          style: {\n            padding: '5px 10px',\n            cursor: 'pointer'\n          },\n          children: \"Add to Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 25\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No products found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 22\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), cart.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '30px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Cart Items (\", cart.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: cart.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [item.name, \" - $\", item.price]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {\n      position: \"top-right\",\n      autoClose: 2000\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n}\n_s(Home, \"cGrkMtHrzx3smfXXLoSqvT5curg=\", false, function () {\n  return [useNavigate];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","handleError","handleSuccess","ToastContainer","jsxDEV","_jsxDEV","Home","_s","loggedInUser","setLoggedInUser","products","setProducts","filteredProducts","setFilteredProducts","searchTerm","setSearchTerm","cart","setCart","navigate","user","localStorage","getItem","handleLogout","removeItem","setTimeout","fetchProducts","response","fetch","headers","result","json","err","handleSearch","e","term","target","value","filtered","filter","p","name","toLowerCase","includes","addToCart","product","style","padding","fontFamily","children","display","justifyContent","alignItems","fileName","_jsxFileName","lineNumber","columnNumber","onClick","cursor","marginTop","type","placeholder","onChange","width","marginBottom","gridTemplateColumns","gap","length","map","item","index","border","borderRadius","price","position","autoClose","_c","$RefreshReg$"],"sources":["C:/Users/megha/Downloads/authuntification/frontend/src/pages/Home.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { handleError, handleSuccess } from '../utils';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nfunction Home() {\n    const [loggedInUser, setLoggedInUser] = useState('');\n    const [products, setProducts] = useState([]);\n    const [filteredProducts, setFilteredProducts] = useState([]);\n    const [searchTerm, setSearchTerm] = useState('');\n    const [cart, setCart] = useState([]);\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const user = localStorage.getItem('loggedInUser');\n        if (!user) {\n            navigate('/login');\n        } else {\n            setLoggedInUser(user);\n        }\n    }, [navigate]);\n\n    const handleLogout = () => {\n        localStorage.removeItem('token');\n        localStorage.removeItem('loggedInUser');\n        handleSuccess('User Logged out');\n        setTimeout(() => navigate('/login'), 1000);\n    };\n\n    const fetchProducts = async () => {\n        try {\n            const response = await fetch('http://localhost:8080/products', {\n                headers: { 'Authorization': localStorage.getItem('token') }\n            });\n            const result = await response.json();\n            setProducts(result);\n            setFilteredProducts(result);\n        } catch (err) {\n            handleError(err);\n        }\n    };\n\n    useEffect(() => {\n        fetchProducts();\n    }, []);\n\n    // Search products\n    const handleSearch = (e) => {\n        const term = e.target.value;\n        setSearchTerm(term);\n        if (term === '') {\n            setFilteredProducts(products);\n        } else {\n            const filtered = products.filter(p =>\n                p.name.toLowerCase().includes(term.toLowerCase())\n            );\n            setFilteredProducts(filtered);\n        }\n    };\n\n    // Add to cart\n    const addToCart = (product) => {\n        setCart([...cart, product]);\n        handleSuccess(`${product.name} added to cart`);\n    };\n\n    return (\n        <div style={{ padding: '20px', fontFamily: 'Arial' }}>\n            <header style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                <h1>Welcome, {loggedInUser}</h1>\n                <button onClick={handleLogout} style={{ padding: '5px 10px', cursor: 'pointer' }}>Logout</button>\n            </header>\n\n            <div style={{ marginTop: '20px' }}>\n                <input\n                    type=\"text\"\n                    placeholder=\"Search products...\"\n                    value={searchTerm}\n                    onChange={handleSearch}\n                    style={{ padding: '5px', width: '300px', marginBottom: '20px' }}\n                />\n            </div>\n\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))', gap: '15px' }}>\n                {filteredProducts.length > 0 ? filteredProducts.map((item, index) => (\n                    <div key={index} style={{ border: '1px solid #ccc', padding: '10px', borderRadius: '5px' }}>\n                        <h3>{item.name}</h3>\n                        <p>Price: ${item.price}</p>\n                        <button\n                            onClick={() => addToCart(item)}\n                            style={{ padding: '5px 10px', cursor: 'pointer' }}\n                        >\n                            Add to Cart\n                        </button>\n                    </div>\n                )) : <p>No products found.</p>}\n            </div>\n\n            {cart.length > 0 && (\n                <div style={{ marginTop: '30px' }}>\n                    <h2>Cart Items ({cart.length})</h2>\n                    <ul>\n                        {cart.map((item, index) => (\n                            <li key={index}>{item.name} - ${item.price}</li>\n                        ))}\n                    </ul>\n                </div>\n            )}\n\n            <ToastContainer position=\"top-right\" autoClose={2000} />\n        </div>\n    );\n}\n\nexport default Home;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,WAAW,EAAEC,aAAa,QAAQ,UAAU;AACrD,SAASC,cAAc,QAAQ,gBAAgB;AAC/C,OAAO,uCAAuC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,SAASC,IAAIA,CAAA,EAAG;EAAAC,EAAA;EACZ,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACW,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACa,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAC5D,MAAM,CAACe,UAAU,EAAEC,aAAa,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACiB,IAAI,EAAEC,OAAO,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAMmB,QAAQ,GAAGlB,WAAW,CAAC,CAAC;EAE9BF,SAAS,CAAC,MAAM;IACZ,MAAMqB,IAAI,GAAGC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;IACjD,IAAI,CAACF,IAAI,EAAE;MACPD,QAAQ,CAAC,QAAQ,CAAC;IACtB,CAAC,MAAM;MACHT,eAAe,CAACU,IAAI,CAAC;IACzB;EACJ,CAAC,EAAE,CAACD,QAAQ,CAAC,CAAC;EAEd,MAAMI,YAAY,GAAGA,CAAA,KAAM;IACvBF,YAAY,CAACG,UAAU,CAAC,OAAO,CAAC;IAChCH,YAAY,CAACG,UAAU,CAAC,cAAc,CAAC;IACvCrB,aAAa,CAAC,iBAAiB,CAAC;IAChCsB,UAAU,CAAC,MAAMN,QAAQ,CAAC,QAAQ,CAAC,EAAE,IAAI,CAAC;EAC9C,CAAC;EAED,MAAMO,aAAa,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,gCAAgC,EAAE;QAC3DC,OAAO,EAAE;UAAE,eAAe,EAAER,YAAY,CAACC,OAAO,CAAC,OAAO;QAAE;MAC9D,CAAC,CAAC;MACF,MAAMQ,MAAM,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;MACpCnB,WAAW,CAACkB,MAAM,CAAC;MACnBhB,mBAAmB,CAACgB,MAAM,CAAC;IAC/B,CAAC,CAAC,OAAOE,GAAG,EAAE;MACV9B,WAAW,CAAC8B,GAAG,CAAC;IACpB;EACJ,CAAC;EAEDjC,SAAS,CAAC,MAAM;IACZ2B,aAAa,CAAC,CAAC;EACnB,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMO,YAAY,GAAIC,CAAC,IAAK;IACxB,MAAMC,IAAI,GAAGD,CAAC,CAACE,MAAM,CAACC,KAAK;IAC3BrB,aAAa,CAACmB,IAAI,CAAC;IACnB,IAAIA,IAAI,KAAK,EAAE,EAAE;MACbrB,mBAAmB,CAACH,QAAQ,CAAC;IACjC,CAAC,MAAM;MACH,MAAM2B,QAAQ,GAAG3B,QAAQ,CAAC4B,MAAM,CAACC,CAAC,IAC9BA,CAAC,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACR,IAAI,CAACO,WAAW,CAAC,CAAC,CACpD,CAAC;MACD5B,mBAAmB,CAACwB,QAAQ,CAAC;IACjC;EACJ,CAAC;;EAED;EACA,MAAMM,SAAS,GAAIC,OAAO,IAAK;IAC3B3B,OAAO,CAAC,CAAC,GAAGD,IAAI,EAAE4B,OAAO,CAAC,CAAC;IAC3B1C,aAAa,CAAC,GAAG0C,OAAO,CAACJ,IAAI,gBAAgB,CAAC;EAClD,CAAC;EAED,oBACInC,OAAA;IAAKwC,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAM;MAAEC,UAAU,EAAE;IAAQ,CAAE;IAAAC,QAAA,gBACjD3C,OAAA;MAAQwC,KAAK,EAAE;QAAEI,OAAO,EAAE,MAAM;QAAEC,cAAc,EAAE,eAAe;QAAEC,UAAU,EAAE;MAAS,CAAE;MAAAH,QAAA,gBACtF3C,OAAA;QAAA2C,QAAA,GAAI,WAAS,EAACxC,YAAY;MAAA;QAAA4C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAChClD,OAAA;QAAQmD,OAAO,EAAElC,YAAa;QAACuB,KAAK,EAAE;UAAEC,OAAO,EAAE,UAAU;UAAEW,MAAM,EAAE;QAAU,CAAE;QAAAT,QAAA,EAAC;MAAM;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7F,CAAC,eAETlD,OAAA;MAAKwC,KAAK,EAAE;QAAEa,SAAS,EAAE;MAAO,CAAE;MAAAV,QAAA,eAC9B3C,OAAA;QACIsD,IAAI,EAAC,MAAM;QACXC,WAAW,EAAC,oBAAoB;QAChCxB,KAAK,EAAEtB,UAAW;QAClB+C,QAAQ,EAAE7B,YAAa;QACvBa,KAAK,EAAE;UAAEC,OAAO,EAAE,KAAK;UAAEgB,KAAK,EAAE,OAAO;UAAEC,YAAY,EAAE;QAAO;MAAE;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,eAENlD,OAAA;MAAKwC,KAAK,EAAE;QAAEI,OAAO,EAAE,MAAM;QAAEe,mBAAmB,EAAE,uCAAuC;QAAEC,GAAG,EAAE;MAAO,CAAE;MAAAjB,QAAA,EACtGpC,gBAAgB,CAACsD,MAAM,GAAG,CAAC,GAAGtD,gBAAgB,CAACuD,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,kBAC5DhE,OAAA;QAAiBwC,KAAK,EAAE;UAAEyB,MAAM,EAAE,gBAAgB;UAAExB,OAAO,EAAE,MAAM;UAAEyB,YAAY,EAAE;QAAM,CAAE;QAAAvB,QAAA,gBACvF3C,OAAA;UAAA2C,QAAA,EAAKoB,IAAI,CAAC5B;QAAI;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACpBlD,OAAA;UAAA2C,QAAA,GAAG,UAAQ,EAACoB,IAAI,CAACI,KAAK;QAAA;UAAApB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC3BlD,OAAA;UACImD,OAAO,EAAEA,CAAA,KAAMb,SAAS,CAACyB,IAAI,CAAE;UAC/BvB,KAAK,EAAE;YAAEC,OAAO,EAAE,UAAU;YAAEW,MAAM,EAAE;UAAU,CAAE;UAAAT,QAAA,EACrD;QAED;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA,GARHc,KAAK;QAAAjB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OASV,CACR,CAAC,gBAAGlD,OAAA;QAAA2C,QAAA,EAAG;MAAkB;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7B,CAAC,EAELvC,IAAI,CAACkD,MAAM,GAAG,CAAC,iBACZ7D,OAAA;MAAKwC,KAAK,EAAE;QAAEa,SAAS,EAAE;MAAO,CAAE;MAAAV,QAAA,gBAC9B3C,OAAA;QAAA2C,QAAA,GAAI,cAAY,EAAChC,IAAI,CAACkD,MAAM,EAAC,GAAC;MAAA;QAAAd,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACnClD,OAAA;QAAA2C,QAAA,EACKhC,IAAI,CAACmD,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,kBAClBhE,OAAA;UAAA2C,QAAA,GAAiBoB,IAAI,CAAC5B,IAAI,EAAC,MAAI,EAAC4B,IAAI,CAACI,KAAK;QAAA,GAAjCH,KAAK;UAAAjB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAiC,CAClD;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CACR,eAEDlD,OAAA,CAACF,cAAc;MAACsE,QAAQ,EAAC,WAAW;MAACC,SAAS,EAAE;IAAK;MAAAtB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACvD,CAAC;AAEd;AAAChD,EAAA,CA3GQD,IAAI;EAAA,QAMQN,WAAW;AAAA;AAAA2E,EAAA,GANvBrE,IAAI;AA6Gb,eAAeA,IAAI;AAAC,IAAAqE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}